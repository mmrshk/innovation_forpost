<div id="<%= id %>_div"></div>

<script>
	document.getElementById("<%= id %>_div").innerHTML = document.getElementById("<%= id %>").value;
  ClassicEditor
      .create( document.querySelector( '#<%= id %>' ), {
				// plugins: [ MediaEmbed, ... ],
        toolbar: {
          items: [
						'undo',
						'redo',
						'|',
						'heading',
						'|',
						'bold',
						'italic',
						'underline',
						'strikethrough',
						'|',
						'fontBackgroundColor',
						'fontColor',
						'fontSize',
						'fontFamily',
						'highlight',
						'|',
						'alignment',
						'|',
						'bulletedList',
						'numberedList',
						'|',
						'indent',
						'outdent',
						'|',
						'removeFormat',
						'|',
						'link',
						'imageUpload',
						'mediaEmbed',
						'|',
						'blockQuote',
						'insertTable',
						'horizontalLine',
          ]
        },
				// mediaEmbed: {
        //     removeProviders: [ 'youtube','instagram', 'twitter', 'googleMaps', 'facebook' ]
        // },
        simpleUpload: {
          uploadUrl: '/articles/upload',
          headers: {
              'X-CSRF-Token': document.querySelectorAll('meta[name="csrf-token"]')[0].content
          }
        },
        language: 'en',
        image: {
          toolbar: [ 'imageTextAlternative', '|', 'imageStyle:alignLeft', 'imageStyle:full', 'imageStyle:alignRight' ],

            styles: [
                'full',
                'alignLeft',
                'alignRight'
            ]
        },
        table: {
          contentToolbar: [
						'tableColumn',
						'tableRow',
						'mergeTableCells',
						'tableCellProperties',
						'tableProperties'
          ]
        },
      } )
      .then( editor => {
        // edit code here
        // if you want to change logic and for example
        // to send data to server using AJAX
        let editorHiddenField = document.getElementById("<%= id %>");
        editor.model.document.on( 'change:data', () => {
          editorHiddenField.value = editor.getData();
          <%= raw options.dig("editor", "js") %>;
				});
      } )
      .catch( error => {
        console.error( error );
      } );
</script>