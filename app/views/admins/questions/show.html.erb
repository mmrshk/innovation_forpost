<h1 class='question-title'><%= @question.title %></h1>
<p class='question-body'><%= sanitize @question.body %></p>

<p class='question-contacts'><%= t('admins.questions.show.name') %> <%= @question.user_name %></p>
<p class='question-contacts'><%= t('admins.questions.tables.email') %>: <i><%= @question.user_email %></i></p>
<hr class='article-hr'>
<h2 class='question-title'><%= t('admins.answers.list') %></h1>
 <div class="container-records-and-filters">
      <div class="container-records">
        <%== pagy_items_selector_js(@pagy) %>
      </div>
  </div>
<%= simple_form_for ([:admins, @question, @answer]) do |form| %>
  <form>
    <fieldset class='general-form'>
     <%= form.input :language, label: t('admins.answers.language'),
                          label_html: { class: 'name-field-for-form' },
                          input_html: { class: 'inline-select-form' },
                          collection: @question.answers.languages.keys,
                          selected: @answer.language,
                          include_blank: false %>
      <%= form.input :body, label: 'Write your answer', input_html: { class: 'general-form' } %>
      <%= form.button :submit, "Submit", class: 'submit-question-button' %>
    </fieldset>                      
  </form>
<% end %>

<table class="body-table">
      <thead>
        <tr>
          <th class="title-table-question"> <%= sort_link(@q, :id, 'Id', default_order: :asc) %> </th>
          <th class="title-table-question"> <%= sort_link(@q, :body, t('admins.answers.body'), default_order: :asc)%> </th>
          <th class="title-table-question"> <%= sort_link(@q, :language, t('admins.answers.language'), default_order: :asc) %> </th>
          <th colspan="3", class="title-table-question"><%= t('admins.questions.tables.functions') %> <%= fa_icon('gear')%> </th>
        </tr>
      </thead>

      <tbody>
        <% @answers.each do |answer| %>
          <tr>
            <td class="field-table-question"><%= answer.id %></td>
            <td class="field-table-question"><%= answer.body %></td>
            <td class="field-table-question"><%= answer.language %></td>
            <td class="field-table-question button-functions", style="display:flex;"><%= link_to fa_icon('trash', text: t('admins.questions.tables.delete')),admins_question_answer_path(@question, answer), method: :delete, data: { confirm: 'Are you sure?' }, class: "button-functions"%></td>
          </tr>
        <% end %>
      </tbody>
  </table>

<div class='group-buttons'>
    <%= link_to t('admins.questions.buttons.all'), admins_questions_path, class: 'article-button outline' %>
    <%= link_to url_for(:back), class: 'article-button outline' do %>
      <span><i class='material-icons'>arrow_back</i><%= t('admins.articles.views.buttons.back') %></span>
    <% end %>
</div>


 <%== render partial: 'shared/pagination', locals: {pagy: @pagy} %>
