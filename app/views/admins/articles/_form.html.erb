<%= content_for :js do %>
  <%= javascript_include_tag 'app', 'data-turbolinks-track': 'reload' %>
  <%= javascript_include_tag 'new_ckeditor/classic/ckeditor', 'data-turbolinks-track': 'reload' %>
<% end %>

<%= simple_form_for article, as: :article, url: url, method: method do |f| %>
  <% presenter = ArticlePresenter.new(f.object)%>
  <% if method == 'patch' %>
    <%= render partial: 'errors' %>
  <% end %>
  <%= f.input :title %>
  <%= f.input :user_id, as: :select,
                        collection: User.only_admins,
                        label_method: :email,
                        value_method: :id,
                        selected:article.user_id,
                        include_blank: false  %>
  <%= f.ckeditor :text %>
  <%= f.input :language, collection: Article.languages.keys, include_blank: false %>
  <%= f.input :status, collection: Article.statuses.keys, include_blank: false %>
  <%= f.input :tags, input_html: { value: presenter.all_tags } %>
  <%= f.button :submit %>
<% end %>
